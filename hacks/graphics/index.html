<!DOCTYPE html>
<meta charset="utf-8">
<script src="../../coquette.js"></script>
<script src="../../roborampage.js"></script>
<link href='https://fonts.googleapis.com/css?family=Press+Start+2P' rel='stylesheet' type='text/css'>
<link href="../../style.css" rel="stylesheet" type="text/css">

<h1>ROBORAMPAGE</h1>
<div class="container">
  <canvas id="canvas" tabindex="1"></canvas>
  <h1 id="message"></h1>
</div>
<p>The robots are after you! Get them to crash before they get you.</p>
<section class="play">
  <h2>Play</h2>
  <dl>
    <dt>▲</dt>
    <dt>◀</dt>
    <dt>▼</dt>
    <dt>▶</dt>
    <dd>to move</dd>
    <dt>Shift</dt>
    <dd>to run</dd>
    <dt>Space</dt>
    <dd>to teleport</dd>
  </dl>
</section>
<section class="hack">
  <h2>Hack</h2>
  <p>Hack this version <a href="https://thimble.webmaker.org/project/59304/remix">in Thimble</a> or follow one of these tutorials:</p>
  <ul>
    <li><a href="#">Add your own graphics</a> <small>Coming soon</small></li>
    <li><a href="#">New player abilities</a> <small>Coming soon</small></li>
    <li><a href="#">Change the robot AI</a> <small>Coming soon</small></li>
  </ul>
</section>

<small class="attribution">By <a href="https://twitter.com/stenington">@stenington</a></small>

<img id="robot-image" src="robo.png">
<img id="player-image" src="player.png">
<script>
Robot.prototype.draw = function(ctx) {
  var img = document.getElementById('robot-image');
  ctx.drawImage(img, this.center.x - this.size.x / 2,
                     this.center.y - this.size.y / 2,
                     this.size.x,
                     this.size.y);
};

Person.prototype.draw = function(ctx) {
  var img = document.getElementById('player-image');
  ctx.drawImage(img, this.center.x - this.size.x / 2,
                     this.center.y - this.size.y / 2,
                     this.size.x,
                     this.size.y);
};

function showMessage(msg) {
  var el = document.getElementById('message');
  el.style.display = "initial";
  el.textContent = msg;
}

window.addEventListener('load', function() {
  new Game({
    width: 500,
    height: 500,
    colors: {
      background: "#002b36",
      player: {
        alive: "#2aa198",
        dead:  "#2aa198"
      },
      robot: {
        alive: "#d33682",
        dead:  "#dc322f"
      }
    },
    sizes: {
      player: {
        x: 32,
        y: 32 
      },
      robot: {
        x: 32,
        y: 32 
      }
    },
    speeds: {
      player: {
        walk: 2.4,
        run:  3.6
      },
      robot: {
        walk: 2.6
      }
    },
    robots: 6,
    win: function () {
      showMessage("You win!");
    },
    lose: function () {
      showMessage("You lose.");
    }
  });
});
</script>